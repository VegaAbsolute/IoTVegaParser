# Вега LM-210 - Поисковое устройство с поддержкой радиометок

## Описание устройства
<img src="https://iotvega.com/content/ru/si/lm210/ava.png" width="400" />

Поисковое устройство Вега LM-210 предназначено для определения своего положения над уровнем моря, начала движения, угла отклонения от вертикали и своих координат по спутникам ГЛОНАСС/GPS, с последующим накоплением и передачей этой информации в сеть LoRaWAN®. Устройство также поддерживает работу с радиометками для отслеживания объектов.

Вега LM-210 способен определять угол отклонения от вертикали с высокой точностью благодаря встроенному трехосевому акселерометру. Эта информация может быть использована устройством для инициации внеочередного сеанса связи, а также передаваться в стандартном пакете в сеть LoRaWAN®.

Корпус имеет магнитные крепления на неодимовые магниты, а также проушины для крепления хомутами. Высокая степень защиты корпуса IP67 и диапазон рабочих температур от -40 до +70 °С позволяют устанавливать устройство в неотапливаемых помещениях и на улице.

## Описание полей данных

### Пакет режима ГЛОНАСС/GPS

Пакет режима ГЛОНАСС/GPS приходит на порт 2 с type = 1 и содержит следующие поля:
- `altitude` - высота над средним уровнем моря (м), тип данных `Number`
- `angle` - угол отклонения датчика от вертикали (0-90°), тип данных `Number`
- `chargePercent` - заряд батареи (%), тип данных `Number`
- `course` - курс (°), тип данных `Number`
- `decoder` - имя и версия дешифратора, тип данных `String`
- `latitude` - широта (°), тип данных `Number`
- `longitude` - долгота (°), тип данных `Number`
- `reason` - причина отправки пакета, тип данных `Number`
- `speed` - скорость (км/ч), тип данных `Number`
- `state` - состояние устройства, тип данных `Number`
- `stateipm` - состояние внутреннего модуля позиционирования, тип данных `Number`
- `temperature` - температура (°С), тип данных `Number`
- `time` - время снятия показаний в формате Unix-time (с), тип данных `Number`
- `timeStringISO` - время снятия показаний в формате ISO, тип данных `String`
- `type` - тип пакета, тип данных `String`
- `usedSat` - количество спутников, используемых в навигационном решении, тип данных `Number`
- `visibleSat` - количество видимых спутников, тип данных `Number`

### Пакет режима одиночной метки

Пакет режима одиночной метки приходит на порт 2 с type = 2 и содержит следующие поля:
- `angle` - угол отклонения датчика от вертикали (0-90°), тип данных `Number`
- `chargePercent` - заряд батареи (%), тип данных `Number`
- `reason` - причина отправки пакета, тип данных `Number`
- `rTags` - массив данных о радиометках, каждая метка содержит:
  - `mac` - MAC-адрес метки, тип данных `String`
  - `mV` - напряжение батареи метки (мВ), тип данных `Number`
  - `tempTags` - температура метки (°C), тип данных `Number`
  - `rssi` - уровень принятого сигнала (dBm), тип данных `Number`
  - `rssiRef` - опорный уровень сигнала (dBm), тип данных `Number`
- `state` - состояние устройства, тип данных `Number`
- `stateipm` - состояние внутреннего модуля позиционирования, тип данных `Number`
- `temperature` - температура (°С), тип данных `Number`
- `time` - время снятия показаний в формате Unix-time (с), тип данных `Number`
- `timeStringISO` - время снятия показаний в формате ISO, тип данных `String`
- `type` - тип пакета, тип данных `String`
- `typeBeacon` - тип радиометки, тип данных `Number`

### Пакет режима нескольких меток

Пакет режима нескольких меток приходит на порт 2 с type = 5 и содержит следующие поля:
- `angle` - угол отклонения датчика от вертикали (0-90°), тип данных `Number`
- `chargePercent` - заряд батареи (%), тип данных `Number`
- `reason` - причина отправки пакета, тип данных `Number`
- `rTags` - массив данных о радиометках (до 3-х меток), каждая метка содержит:
  - `mac` - MAC-адрес метки, тип данных `String`
  - `mV` - напряжение батареи метки (мВ), тип данных `Number`
  - `tempTags` - температура метки (°C), тип данных `Number`
  - `humdt` - влажность метки (%), тип данных `Number`
  - `rssi` - уровень принятого сигнала (dBm), тип данных `Number`
  - `rssiRef` - опорный уровень сигнала (dBm), тип данных `Number`
- `state` - состояние устройства, тип данных `Number`
- `stateipm` - состояние внутреннего модуля позиционирования, тип данных `Number`
- `temperature` - температура (°С), тип данных `Number`
- `time` - время снятия показаний в формате Unix-time (с), тип данных `Number`
- `timeStringISO` - время снятия показаний в формате ISO, тип данных `String`
- `type` - тип пакета, тип данных `String`

### Пакет с настройками

Пакет с настройками приходит на порт 3 и содержит следующие поля:
- `decoder` - имя и версия дешифратора, тип данных `String`
- `settings` - текущие значения настроек устройства, тип данных `Object` (ключами объекта являются номера параметров)
- `statusDecode` - состояние расшифровки данных (**true** если расшифровка успешна и **false** если неуспешна), тип данных `Boolean`
- `type` - тип пакета, тип данных `String`

Объект параметра содержит следующие поля:
- `id` - номер параметра, тип данных `Number`
- `length` - длина значения параметра (байт), тип данных `Number`
- `name` - имя параметра, тип данных `String`
- `rawValue` - необработанное значение параметра, тип данных `String`
- `value` - значение параметра, тип данных зависит от параметра 